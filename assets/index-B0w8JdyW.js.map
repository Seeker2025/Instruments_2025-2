{"version":3,"file":"index-B0w8JdyW.js","sources":["../../src/img/in01.jpg","../../src/img/in02.jpg","../../src/img/in03.jpg","../../src/img/in04.jpg","../../src/img/in05.jpg","../../src/img/in06.jpg","../../src/img/in07.jpg","../../src/img/in08.jpg","../../src/img/in09.jpg","../../src/img/in10.jpg","../../src/instruments.js","../../src/common.js","../../src/img/no_img.png","../../src/helpers/createMarkup.js","../../src/helpers/closeModal.js","../../src/img/close.png","../../src/helpers/findProduct.js","../../src/helpers/favoriteFun.js","../../src/helpers/createModal.js","../../src/index.js"],"sourcesContent":["export default \"__VITE_ASSET__CMkE2iFz__\"","export default \"__VITE_ASSET__Bng6hZpF__\"","export default \"__VITE_ASSET__18xebqdW__\"","export default \"__VITE_ASSET__vpFIsFcG__\"","export default \"__VITE_ASSET__B2KMLBiM__\"","export default \"__VITE_ASSET__Cje38KSZ__\"","export default \"__VITE_ASSET__DhUsQF7c__\"","export default \"__VITE_ASSET__7aZKeGFB__\"","export default \"__VITE_ASSET__mMw45eTM__\"","export default \"__VITE_ASSET__pHLDLi5h__\"","export { instruments };\n\nimport  in01  from './img/in01.jpg';\nimport  in02  from './img/in02.jpg';\nimport  in03  from './img/in03.jpg';\nimport  in04  from './img/in04.jpg';\nimport  in05  from './img/in05.jpg';\nimport  in06  from './img/in06.jpg';\nimport  in07  from './img/in07.jpg';\nimport  in08  from './img/in08.jpg';\nimport  in09  from './img/in09.jpg';\nimport  in10  from './img/in10.jpg';\n\nconst instruments = [\n     {\n  id: 1,\n  img: in01,\n  name: \"Шуруповерт\",\n  price: 1500,\n  description: \"Мережевий дриль-шуруповерт ТD-30-Надійний помічник для робіт по дому\"\n  \n     },\n     {\n  id: 2,\n  img: in02,\n  name: \"Перфоратор\",\n  price: 3948,\n  description: \"Перфоратор бочковий Dnipro-M BH-20 Використовується для сверління\"\n  \n    },\n\n      {\n id: 3,\n img: in03,\n name: \"Шліфмашина\",\n price: 1299,\n description: \"Кутова шліфмашина Dnipro-M GS-98 - модель яка поєднує в собі\"\n \n   },\n    {\n id: 4,\n img: in04,\n name: \"Пила\",\n price: 11049,\n description: \"Мобільна акумуляторна ланцюгова пила DCS-200BC DUAL\"\n \n   }, \n   {\n id: 5,\n img: in05,\n name: \"Рівень\",\n price: 897,\n description: \"Рівень серії ProVision виробництва DNIPRO-M\"\n \n    },\n  \n    {\n id: 6,\n img: in06,\n name: \"Тример\",\n price: 3699,\n description: \"Тример електричний Dnipro-M 110 призначений для покосу трави\"\n \n    },\n     \n    {\n id: 7,\n img: in07,\n name: \"Мотокоса\",\n price: 11049,\n description: \"Мотокоса Dnipro-M 43 призначений для покосу трави, чагарників, бур'янів\"\n \n    },\n\n    {\n        id: 8,\n img: in08,\n name: \"Генератор\",\n price: 10890,\n description: \"Бензиновый генератор Dnipro-M GX-25 номінальною потужністю 2,5 кВт\"\n \n    },  \n\n    {\n        id: 9,\n img: in09,\n name: \"Культиватор\",\n price: 10890,\n description: \"Культиватор електричний Dnipro-M 40\"\n \n    },  \n\n    {\n        id: 10,\n img: in10,\n name: \"Лобзик\",\n price: 10890,\n description: \"Лобзик електричний Dnipro-M JS-80LX + Набір пиляльних полотен 5 шт\"\n \n    },  \n];","const common ={\n        KEY_FAVORITE: 'favorite',\n        KEY_BASKET: 'basket',\n        KEY_INSTRUMENT: 'instruments',\n};\n\nexport { common }","export default \"__VITE_ASSET__BEu8qmmH__\"","import noImg from '../img/no_img.png';\nlet textOnBtnFavorite = 'Add to favorite';\nlet textOnBtnBasket = 'Add to basket';\n// import { common } from '../common';\n// const{ KEY_FAVORITE, KEY_BASKET }=common;\n// const favorite = JSON.parse(localStorage.getItem(KEY_FAVORITE));\n// console.log(favorite);\n\nfunction createMarkup(arr, list){\n    // console.log(arr.length);\n    let markup;\n    if(arr.length){\n        markup =  arr.map(({id, img, name, present})=>`\n                    <li data-id=${id} class=\"card js-card\">\n                    <img src=\"${img}\" alt=\"${name}\" width=\"300\">\n                    <h2>${name}</h2>\n                    <h2><span>id${id}</span>${present}</h2>\n                    <p><a href=\"#\" class=\"info js-info\">More Information</a></p>\n                    <div>\n                    <button class=\"js-favorite\" type=\"button\">${textOnBtnFavorite}</button>\n                    <button class=\"js-basket\" type=\"button\">${textOnBtnBasket}</button>\n                    </div>\n                    </li>\n                    `).join('');\n                list.innerHTML = markup;\n    }else{\n        markup =   `<li class=\"js-card\">\n                    <img src=${noImg} alt=\"404\" width=\"300\">\n                    </li>`\n                list.innerHTML = markup;\n    }\n};\n\nexport { createMarkup };\n\n// const arr02 = [];\n// console.log(arr02.length);","function closeMadal(evt){\n    if(evt.code === 'Escape'){\n      this.close();\n    }\n}\n\nexport { closeMadal };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB6SURBVHgB7ZVBCsAgDASXvmR/aH/cp1gPHkqRmjRqEDLgRdcMiBogCIKFnGVQkWfdY5bmMi7I5KzZDKOcj0I9uSY7TC7JDJd/rU2Tt+amwJdoibQl/y09sAmEw1ETDpeLcHhOhMMHQkVBTbaLpUkkGEnQt0WzNAgCMTf64Es4we8RJwAAAABJRU5ErkJggg==\"","function findProduct(elem, arr){\n    const productId = Number(elem.closest('.js-card').dataset.id)\n    return arr.find(({id}) => id === productId);\n}\n\n\nexport {findProduct};","import { common } from '../common';\nconst{ KEY_FAVORITE, KEY_BASKET, KEY_INSTRUMENT } = common;\n// import { instruments } from '../instruments';\nimport { findProduct } from './findProduct';\n// const allInstruments = JSON.parse(localStorage.getItem(KEY_INSTRUMENT));\nimport { allInstruments } from '../index';\n\nlet favoriteArr = JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n// let favoriteArr = [];\n// let newfavorite = [];\n// console.log( favoriteArr);\nlet basketArr = JSON.parse(localStorage.getItem(KEY_BASKET)) ?? [];\n// console.log( basketArr);\n// .js-favorite\n// const favoriteBtn = document.querySelector('.js-favorite');\n\nfunction toFavorite(elemFuv){\n \n                const product = findProduct(elemFuv, allInstruments);\n                const inStorage = favoriteArr.some(({ id })=> id === product.id);\n                console.log(inStorage);\n                allInstruments.map(itm =>{\n                                            if(itm.id === product.id) {\n                                                itm.present ? itm.present = null : itm.present = 'present';\n                                            }      \n                                                 })\n                localStorage.setItem(KEY_INSTRUMENT, JSON.stringify(allInstruments));                                        \n        if(inStorage){\n            \n                favoriteArr = favoriteArr.filter((itm)=>itm.id!==product.id);\n                                                        \n                localStorage.setItem(KEY_FAVORITE, JSON.stringify(favoriteArr));\n                \n                            \n           }else{\n\n                \n                                             \n                favoriteArr.push(product);\n                console.log(favoriteArr);\n                localStorage.setItem(KEY_FAVORITE, JSON.stringify(favoriteArr));\n               \n\n           }\n      \n       \n    }\n\n\n\n function toBusket(elemBus){\n         const product = findProduct(elemBus, allInstruments);\n                const inStorage = basketArr.some(({ id })=> id === product.id);\n                console.log(inStorage);\n                allInstruments.map(itm =>{\n                                            if(itm.id === product.id) {\n                                                itm.present ? itm.present = null : itm.present = 'present';\n                                            }      \n                                                 })\n                localStorage.setItem(KEY_INSTRUMENT, JSON.stringify(basketArr));                                        \n        if(inStorage){\n            \n                basketArr = basketArr.filter((itm)=>itm.id!==product.id);\n                                                        \n                localStorage.setItem(KEY_BASKET, JSON.stringify(basketArr));\n                \n                            \n           }else{\n\n                \n                                             \n                basketArr.push(product);\n                console.log(basketArr);\n                localStorage.setItem(KEY_BASKET, JSON.stringify(basketArr));\n               \n\n           }\n      \n    \n }\n\n\n\nexport { toFavorite, toBusket };  \n","import * as basicLightbox from 'basiclightbox'\nimport \"basiclightbox/dist/basicLightbox.min.css\";\n\nimport { closeMadal } from './closeModal';\nimport closeIcon from '../img/close.png';\n// const list = document.querySelector('.js-list');\nimport { \n    toFavorite,\n    toBusket,\n                } from './favoriteFun';\n\n\nfunction createModal({img, name, price, description, id}){\n//   const option = {\n//     handler: null,\n//     onShow(instance){\n//       console.log(this);\n//       this.handler = closeMadal.bind(instance);\n//     document.addEventListener('keydown', closeModal);\n//   },\n//   onClose(){\n//      console.log(this);\n//   },\n  \n// };\n// console.log(id);\n\n  \n     const instance = basicLightbox.create(`\n\t    <div class=\"modal js-card\" data-id=${id}>\n            <div class=\"cross\">\n                 <img src=${closeIcon} alt=\"close\">\n            </div>\n            <img src=\"${img}\" alt=\"${name}\" width=\"300\">\n            <h2>${name} <span>id${id}</span></h2>\n            <h3>${price}point</h3>\n            <p>${description}</p>\n              <div>\n                  <button class=\"js-favorite\" type=\"button\">Add to favorite</button>\n                  <button class=\"js-basket\" type=\"button\">Add to basket</button>\n              </div>\n      </div>\n`, {\n    handler: null,\n    onShow(instance){\n      // console.log(this);\n      this.handler = closeMadal.bind(instance);\n    document.addEventListener('keydown', this.handler);\n\n \n \n  },\n    onClose(){\n      console.log(this);\n      document.removeEventListener('keydown', this.handler);\n      cross.removeEventListener('click', toClose);\n  },\n  \n});\n\n\n// cross.addEventListener('click', toClose);\n// function toClose(){\n//   console.log('whoa!');\n// }\ninstance.show();\n// function closeMadal(evt){\n//     if(evt.code === 'Escape'){\n//       instance.close();\n//     }\n  const cross = document.querySelector('.cross');\n    console.log(cross);\n    cross.addEventListener('click', toClose);\n  function toClose(){\n    console.log('whoa!');\n    instance.close();\n }\n\n const modal = document.querySelector('.modal');\n console.log(modal);\n modal.addEventListener('click', onClick);\n function onClick(evt){\n if(evt.target.classList.contains('js-favorite')){\n    \n    toFavorite(evt.target);\n }\n\n  if(evt.target.classList.contains('js-basket')){\n        toBusket(evt.target);\n\n}\n}\n\n}\n\n\nexport { createModal };","\nimport { instruments } from './instruments';\nimport { common } from './common';\n\nconst{ KEY_FAVORITE, KEY_BASKET, KEY_INSTRUMENT }=common;\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { \n    toFavorite,\n    toBusket\n   \n                    } from './helpers/favoriteFun';\nimport { findProduct } from './helpers/findProduct';\n\n\n// const search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n\nlocalStorage.setItem(KEY_INSTRUMENT, JSON.stringify(instruments));\nconst allInstruments = JSON.parse(localStorage.getItem(KEY_INSTRUMENT));\nexport { allInstruments };\nconsole.log(allInstruments);\ncreateMarkup(allInstruments, list);\n\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt){\n    // evt.preventDefault();\n    // console.log(evt.target);\n    if(evt.target.classList.contains('js-info')){\n       \n        const product = findProduct(evt.target, instruments);\n        console.log(product);\n        const{img, name, price, description, id}=product\n        createModal({img, name, price, description, id})\n       \n    }\n    if(evt.target.classList.contains('js-favorite')){\n        \n            toFavorite(evt.target)\n            \n    }\n\n\n    if(evt.target.classList.contains('js-basket')){\n        \n            toBusket(evt.target);\n\n            \n    }\n \n}\n\n\n\n// function findProduct(elem){\n//     const productId = Number(elem.closest('.js-card').dataset.id)\n//     return instruments.find(({id}) => id === productId);\n// }"],"names":["in01","in02","in03","in04","in05","in06","in07","in08","in09","in10","instruments","common","noImg","textOnBtnFavorite","textOnBtnBasket","createMarkup","arr","list","markup","id","img","name","present","closeMadal","evt","closeIcon","findProduct","elem","productId","KEY_FAVORITE","KEY_BASKET","KEY_INSTRUMENT","favoriteArr","basketArr","toFavorite","elemFuv","product","allInstruments","inStorage","itm","toBusket","elemBus","createModal","price","description","instance","basicLightbox.create","cross","toClose","modal","onClick"],"mappings":"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"}