import{b as N}from"./vendor-DaP2veRQ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();const y="/Instruments_2025-2/assets/in01-DDtRZv0L.jpg",M="/Instruments_2025-2/assets/in02-BLtyIFcg.jpg",k="/Instruments_2025-2/assets/in03-DxX5vNo9.jpg",v="/Instruments_2025-2/assets/in04-BFeooFc0.jpg",O="/Instruments_2025-2/assets/in05-D0f0Nwn2.jpg",B="/Instruments_2025-2/assets/in06-CCY3mjLl.jpg",D="/Instruments_2025-2/assets/in07-DSke7PNe.jpg",_="/Instruments_2025-2/assets/in08-Cffekw7m.jpg",w="/Instruments_2025-2/assets/in09-B7A1B4HK.jpg",T="/Instruments_2025-2/assets/in10-C8QsgQ0Q.jpg",A=[{id:1,img:y,name:"Шуруповерт",price:1500,description:"Мережевий дриль-шуруповерт ТD-30-Надійний помічник для робіт по дому"},{id:2,img:M,name:"Перфоратор",price:3948,description:"Перфоратор бочковий Dnipro-M BH-20 Використовується для сверління"},{id:3,img:k,name:"Шліфмашина",price:1299,description:"Кутова шліфмашина Dnipro-M GS-98 - модель яка поєднує в собі"},{id:4,img:v,name:"Пила",price:11049,description:"Мобільна акумуляторна ланцюгова пила DCS-200BC DUAL"},{id:5,img:O,name:"Рівень",price:897,description:"Рівень серії ProVision виробництва DNIPRO-M"},{id:6,img:B,name:"Тример",price:3699,description:"Тример електричний Dnipro-M 110 призначений для покосу трави"},{id:7,img:D,name:"Мотокоса",price:11049,description:"Мотокоса Dnipro-M 43 призначений для покосу трави, чагарників, бур'янів"},{id:8,img:_,name:"Генератор",price:10890,description:"Бензиновый генератор Dnipro-M GX-25 номінальною потужністю 2,5 кВт"},{id:9,img:w,name:"Культиватор",price:10890,description:"Культиватор електричний Dnipro-M 40"},{id:10,img:T,name:"Лобзик",price:10890,description:"Лобзик електричний Dnipro-M JS-80LX + Набір пиляльних полотен 5 шт"}],S={KEY_FAVORITE:"favorite",KEY_BASKET:"basket",KEY_INSTRUMENT:"instruments"},R="/Instruments_2025-2/assets/no_img-LHHwQ-Ik.png";let $="Add to favorite",C="Add to basket";function J(n,e){let i;n.length?(i=n.map(({id:t,img:s,name:o,present:r})=>`
                    <li data-id=${t} class="card js-card">
                    <img src="${s}" alt="${o}" width="300">
                    <h2>${o}</h2>
                    <h2><span>id${t}</span>${r}</h2>
                    <p><a href="#" class="info js-info">More Information</a></p>
                    <div>
                    <button class="js-favorite" type="button">${$}</button>
                    <button class="js-basket" type="button">${C}</button>
                    </div>
                    </li>
                    `).join(""),e.innerHTML=i):(i=`<li class="js-card">
                    <img src=${R} alt="404" width="300">
                    </li>`,e.innerHTML=i)}function K(n){n.code==="Escape"&&this.close()}const Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB6SURBVHgB7ZVBCsAgDASXvmR/aH/cp1gPHkqRmjRqEDLgRdcMiBogCIKFnGVQkWfdY5bmMi7I5KzZDKOcj0I9uSY7TC7JDJd/rU2Tt+amwJdoibQl/y09sAmEw1ETDpeLcHhOhMMHQkVBTbaLpUkkGEnQt0WzNAgCMTf64Es4we8RJwAAAABJRU5ErkJggg==";function m(n,e){const i=Number(n.closest(".js-card").dataset.id);return e.find(({id:t})=>t===i)}const{KEY_FAVORITE:p,KEY_BASKET:g,KEY_INSTRUMENT:I}=S;let a=JSON.parse(localStorage.getItem(p))??[],c=JSON.parse(localStorage.getItem(g))??[];function h(n){const e=m(n,l),i=a.some(({id:t})=>t===e.id);console.log(i),l.map(t=>{t.id===e.id&&(t.present?t.present=null:t.present="present")}),localStorage.setItem(I,JSON.stringify(l)),i?(a=a.filter(t=>t.id!==e.id),localStorage.setItem(p,JSON.stringify(a))):(a.push(e),console.log(a),localStorage.setItem(p,JSON.stringify(a)))}function E(n){const e=m(n,l),i=c.some(({id:t})=>t===e.id);console.log(i),l.map(t=>{t.id===e.id&&(t.present?t.present=null:t.present="present")}),localStorage.setItem(I,JSON.stringify(c)),i?(c=c.filter(t=>t.id!==e.id),localStorage.setItem(g,JSON.stringify(c))):(c.push(e),console.log(c),localStorage.setItem(g,JSON.stringify(c)))}function U({img:n,name:e,price:i,description:t,id:s}){const o=N.create(`
	    <div class="modal js-card" data-id=${s}>
            <div class="cross">
                 <img src=${Y} alt="close">
            </div>
            <img src="${n}" alt="${e}" width="300">
            <h2>${e} <span>id${s}</span></h2>
            <h3>${i}point</h3>
            <p>${t}</p>
              <div>
                  <button class="js-favorite" type="button">Add to favorite</button>
                  <button class="js-basket" type="button">Add to basket</button>
              </div>
      </div>
`,{handler:null,onShow(d){this.handler=K.bind(d),document.addEventListener("keydown",this.handler)},onClose(){console.log(this),document.removeEventListener("keydown",this.handler),r.removeEventListener("click",u)}});o.show();const r=document.querySelector(".cross");console.log(r),r.addEventListener("click",u);function u(){console.log("whoa!"),o.close()}const f=document.querySelector(".modal");console.log(f),f.addEventListener("click",L);function L(d){d.target.classList.contains("js-favorite")&&h(d.target),d.target.classList.contains("js-basket")&&E(d.target)}}const{KEY_INSTRUMENT:b}=S,j=document.querySelector(".js-list");localStorage.setItem(b,JSON.stringify(A));const l=JSON.parse(localStorage.getItem(b));console.log(l);J(l,j);j.addEventListener("click",H);function H(n){if(n.target.classList.contains("js-info")){const e=m(n.target,A);console.log(e);const{img:i,name:t,price:s,description:o,id:r}=e;U({img:i,name:t,price:s,description:o,id:r})}n.target.classList.contains("js-favorite")&&h(n.target),n.target.classList.contains("js-basket")&&E(n.target)}export{J as a,S as c};
//# sourceMappingURL=index-B0w8JdyW.js.map
