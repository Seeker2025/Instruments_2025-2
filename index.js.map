{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["\nimport { instruments } from './instruments';\n// import { common } from './common';\n\n// const{ KEY_FAVORITE, KEY_BASKET }=common;\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { \n    toFavorite,\n    toBusket\n   \n                    } from './helpers/favoriteFun';\nimport { findProduct } from './helpers/findProduct';\n\n\n// const search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n\n\n\n// const favoriteArr = JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n// console.log( favoriteArr);\n// const basketArr = JSON.parse(localStorage.getItem(KEY_BASKET)) ?? [];\n// console.log( basketArr);\n\n\n\n// console.log(search);\n\n\n\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt){\n    evt.preventDefault();\n    console.log(evt.target);\n    if(evt.target.classList.contains('js-info')){\n       \n        const product = findProduct(evt.target, instruments);\n        console.log(product);\n        const{img, name, price, description, id}=product\n       createModal({img, name, price, description, id})\n       \n    }\n    if(evt.target.classList.contains('js-favorite')){\n        console.log(evt.target);\n        toFavorite(evt.target)\n        // console.log(evt.target);\n        // const product = findProduct(evt.target);\n        // const inStorage = favoriteArr.some(({ id })=> id === product.id)\n        // if(inStorage){\n        //     return\n        // }\n        // console.log(product);\n        // console.log(favoriteArr);\n        // favoriteArr.push(product);\n        // console.log(favoriteArr);\n        // localStorage.setItem(KEY_FAVORITE, JSON.stringify(favoriteArr));\n    }\n\n\n    if(evt.target.classList.contains('js-basket')){\n        toBusket(evt.target);\n        // const product = findProduct(evt.target);\n        // const inStorage = basketArr.some(({ id })=> id === product.id)\n        // if(inStorage){\n        //     return\n        // }\n        // console.log(product);\n        // basketArr.push(product);\n        // console.log(basketArr);\n        // localStorage.setItem(KEY_BASKET, JSON.stringify(basketArr));\n    }\n    \n\n}\n\ncreateMarkup(instruments, list);\n\n// function findProduct(elem){\n//     const productId = Number(elem.closest('.js-card').dataset.id)\n//     return instruments.find(({id}) => id === productId);\n// }"],"names":["list","onClick","evt","product","findProduct","instruments","img","name","price","description","id","createModal","toFavorite","toBusket","createMarkup"],"mappings":"4HAgBA,MAAMA,EAAO,SAAS,cAAc,UAAU,EAgB9CA,EAAK,iBAAiB,QAASC,CAAO,EAEtC,SAASA,EAAQC,EAAI,CAGjB,GAFAA,EAAI,eAAc,EAClB,QAAQ,IAAIA,EAAI,MAAM,EACnBA,EAAI,OAAO,UAAU,SAAS,SAAS,EAAE,CAExC,MAAMC,EAAUC,EAAYF,EAAI,OAAQG,CAAW,EACnD,QAAQ,IAAIF,CAAO,EACnB,KAAK,CAAC,IAAAG,EAAK,KAAAC,EAAM,MAAAC,EAAO,YAAAC,EAAa,GAAAC,CAAE,EAAEP,EAC1CQ,EAAY,CAAC,IAAAL,EAAK,KAAAC,EAAM,MAAAC,EAAO,YAAAC,EAAa,GAAAC,CAAE,CAAC,CAElD,CACGR,EAAI,OAAO,UAAU,SAAS,aAAa,IAC1C,QAAQ,IAAIA,EAAI,MAAM,EACtBU,EAAWV,EAAI,MAAM,GAetBA,EAAI,OAAO,UAAU,SAAS,WAAW,GACxCW,EAASX,EAAI,MAAM,CAa3B,CAEAY,EAAaT,EAAaL,CAAI"}